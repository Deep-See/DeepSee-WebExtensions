{"version":3,"file":"WebExtStorageService.js","sourceRoot":"","sources":["../src/WebExtStorageService.ts"],"names":[],"mappings":";;AAAA,6CAA0D;AAI1D;;GAEG;AACH,MAAa,oBAAoB;IAAjC;QAEI,YAAO,GAAQ,MAAM,IAAI,OAAO,CAAC;IA4BrC,CAAC;IA1BG;;;;;OAKG;IACH,GAAG,CAAC,GAAW,EAAE,KAAU,EAAE,OAAoB,yBAAW,CAAC,IAAI;QAC7D,IAAI,IAAI,IAAI,yBAAW,CAAC,IAAI,EAAE;YAC1B,OAAO,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAG,KAAK,EAAE,CAAC,CAAC;SAC3D;aAAM;YACH,OAAO,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAG,KAAK,EAAE,CAAC,CAAC;SAC5D;IACL,CAAC;IAED;;;OAGG;IACH,GAAG,CAAC,GAAW,EAAE,OAAoB,yBAAW,CAAC,IAAI;QACjD,IAAI,IAAI,IAAI,yBAAW,CAAC,IAAI,EAAE;YAC1B,OAAO,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;SAC7C;aAAM;YACH,OAAO,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;SAC9C;IACL,CAAC;CAEJ;AA9BD,oDA8BC","sourcesContent":["import { StorageService, StorageType } from \"adaptiveweb\";\n\ndeclare var chrome: any, browser: any;\n\n/**\n * WebExtensions implementation of the StorageService.\n */\nexport class WebExtStorageService implements StorageService {\n\n    browser: any = chrome || browser;\n\n    /**\n     * Sets a key in the store to a given value.\n     * @param key the key to set in the store\n     * @param value the value to set the given entry to\n     * @param type the type of storage, defaults to StorageType.SYNC\n     */\n    set(key: string, value: any, type: StorageType = StorageType.SYNC): Promise<any> {\n        if (type == StorageType.SYNC) {\n            return this.browser.storage.sync.set({ [key] : value });\n        } else {\n            return this.browser.storage.local.set({ [key] : value });\n        }\n    }\n\n    /**\n     * Fetches the value stored at the given key\n     * @param key the key to retrieve\n     */\n    get(key: string, type: StorageType = StorageType.SYNC): Promise<any> {\n        if (type == StorageType.SYNC) {\n            return this.browser.storage.sync.get(key);\n        } else {\n            return this.browser.storage.local.get(key);\n        }\n    }\n\n}"]}